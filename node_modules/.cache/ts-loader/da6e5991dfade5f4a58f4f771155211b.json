{"remainingRequest":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js!/home/gynchiii/gem-farm/app/gem-farm/node_modules/ts-loader/index.js??ref--14-2!/home/gynchiii/gem-farm/app/gem-farm/src/composables/cluster.ts","dependencies":[{"path":"/home/gynchiii/gem-farm/app/gem-farm/src/composables/cluster.ts","mtime":1643839215713},{"path":"/home/gynchiii/gem-farm/app/gem-farm/babel.config.js","mtime":1643839215713},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/cache-loader/dist/cjs.js","mtime":1643597848373},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js","mtime":1643597848340},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/ts-loader/index.js","mtime":1643597859789}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgcmVhZG9ubHksIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tICdAc29sYW5hL3dlYjMuanMnOwppbXBvcnQgeyBERUZBVUxUUyB9IGZyb20gJ0AvZ2xvYmFscyc7CmV4cG9ydCB2YXIgQ2x1c3RlcjsKCihmdW5jdGlvbiAoQ2x1c3RlcikgewogIENsdXN0ZXJbIk1haW5uZXQiXSA9ICJtYWlubmV0IjsKICBDbHVzdGVyWyJEZXZuZXQiXSA9ICJkZXZuZXQiOwogIENsdXN0ZXJbIlRlc3RuZXQiXSA9ICJ0ZXN0bmV0IjsKICBDbHVzdGVyWyJMb2NhbG5ldCJdID0gImxvY2FsbmV0IjsKfSkoQ2x1c3RlciB8fCAoQ2x1c3RlciA9IHt9KSk7Cgp2YXIgY2x1c3RlclVSTE1hcHBpbmcgPSB7CiAgbWFpbm5ldDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9NQUlOTkVUX1VSTCB8fCAnaHR0cHM6Ly9zc2MtZGFvLmdlbmVzeXNnby5uZXQvJywKICBkZXZuZXQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfREVWTkVUX1VSTCB8fCAnaHR0cHM6Ly9hcGkuZGV2bmV0LnNvbGFuYS5jb20nLAogIHRlc3RuZXQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfVEVTVE5FVF9VUkwgfHwgJ2h0dHBzOi8vYXBpLnRlc3RuZXQuc29sYW5hLmNvbScsCiAgbG9jYWxuZXQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfTE9DQUxORVRfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0Ojg4OTknCn07CnZhciBjbHVzdGVyID0gcmVmKERFRkFVTFRTLkNMVVNURVIpOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VDbHVzdGVyKCkgewogIHZhciBnZXRDbHVzdGVyVVJMID0gZnVuY3Rpb24gZ2V0Q2x1c3RlclVSTCgpIHsKICAgIHJldHVybiBjbHVzdGVyVVJMTWFwcGluZ1tjbHVzdGVyLnZhbHVlXTsKICB9OwoKICB2YXIgZ2V0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIGdldENvbm5lY3Rpb24oY29tbWl0dG1lbnQpIHsKICAgIHJldHVybiBuZXcgQ29ubmVjdGlvbihnZXRDbHVzdGVyVVJMKCksIGNvbW1pdHRtZW50ICE9PSBudWxsICYmIGNvbW1pdHRtZW50ICE9PSB2b2lkIDAgPyBjb21taXR0bWVudCA6ICdwcm9jZXNzZWQnKTsKICB9OwoKICB2YXIgc2V0Q2x1c3RlciA9IGZ1bmN0aW9uIHNldENsdXN0ZXIobmV3Q2x1c3RlcikgewogICAgY2x1c3Rlci52YWx1ZSA9IG5ld0NsdXN0ZXI7IC8vIGNhcHBpbmcgYXQgMjAgY2hhcnMgZHVlIHRvIHNlY3VyaXR5IChub3QgdG8gZXhwb3NlIHRoZSB0b2tlbikKCiAgICBjb25zb2xlLmxvZygiQ2x1c3RlciB1cGRhdGVkLCAgbm93ICIuY29uY2F0KG5ld0NsdXN0ZXIsICIgKCIpLmNvbmNhdChnZXRDbHVzdGVyVVJMKCkuc3Vic3RyKDAsIDIwKSwgIikiKSk7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGNsdXN0ZXI6IHJlYWRvbmx5KGNsdXN0ZXIpLAogICAgZ2V0Q2x1c3RlclVSTDogZ2V0Q2x1c3RlclVSTCwKICAgIGdldENvbm5lY3Rpb246IGdldENvbm5lY3Rpb24sCiAgICBzZXRDbHVzdGVyOiBzZXRDbHVzdGVyCiAgfTsKfQ=="},{"version":3,"sources":["/home/gynchiii/gem-farm/app/gem-farm/src/composables/cluster.ts"],"names":[],"mappings":";AAAA,SAAS,QAAT,EAAmB,GAAnB,QAA8B,KAA9B;AACA,SAAqB,UAArB,QAAuC,iBAAvC;AACA,SAAS,QAAT,QAAyB,WAAzB;AAEA,OAAA,IAAY,OAAZ;;AAAA,CAAA,UAAY,OAAZ,EAAmB;AACjB,EAAA,OAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACA,EAAA,OAAA,CAAA,QAAA,CAAA,GAAA,QAAA;AACA,EAAA,OAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACA,EAAA,OAAA,CAAA,UAAA,CAAA,GAAA,UAAA;AACD,CALD,EAAY,OAAO,KAAP,OAAO,GAAA,EAAA,CAAnB;;AAOA,IAAM,iBAAiB,GAAG;AACxB,EAAA,OAAO,EAAE,OAAO,CAAC,GAAR,CAAY,mBAAZ,IAAmC,gCADpB;AAExB,EAAA,MAAM,EAAE,OAAO,CAAC,GAAR,CAAY,kBAAZ,IAAkC,+BAFlB;AAGxB,EAAA,OAAO,EAAE,OAAO,CAAC,GAAR,CAAY,mBAAZ,IAAmC,gCAHpB;AAIxB,EAAA,QAAQ,EAAE,OAAO,CAAC,GAAR,CAAY,oBAAZ,IAAoC;AAJtB,CAA1B;AAOA,IAAM,OAAO,GAAG,GAAG,CAAU,QAAQ,CAAC,OAAnB,CAAnB;AAEA,eAAc,SAAU,UAAV,GAAoB;AAChC,MAAM,aAAa,GAAG,SAAhB,aAAgB;AAAA,WAAc,iBAAiB,CAAC,OAAO,CAAC,KAAT,CAA/B;AAAA,GAAtB;;AAEA,MAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,WAAD;AAAA,WACpB,IAAI,UAAJ,CAAe,aAAa,EAA5B,EAAgC,WAAhC,aAAgC,WAAhC,cAAgC,WAAhC,GAA+C,WAA/C,CADoB;AAAA,GAAtB;;AAGA,MAAM,UAAU,GAAG,SAAb,UAAa,CAAC,UAAD,EAAwB;AACzC,IAAA,OAAO,CAAC,KAAR,GAAgB,UAAhB,CADyC,CAEzC;;AACA,IAAA,OAAO,CAAC,GAAR,iCAC2B,UAD3B,eAC0C,aAAa,GAAG,MAAhB,CAAuB,CAAvB,EAA0B,EAA1B,CAD1C;AAGD,GAND;;AAQA,SAAO;AACL,IAAA,OAAO,EAAE,QAAQ,CAAC,OAAD,CADZ;AAEL,IAAA,aAAa,EAAb,aAFK;AAGL,IAAA,aAAa,EAAb,aAHK;AAIL,IAAA,UAAU,EAAV;AAJK,GAAP;AAMD","sourcesContent":["import { readonly, ref } from 'vue';\nimport { Commitment, Connection } from '@solana/web3.js';\nimport { DEFAULTS } from '@/globals';\n\nexport enum Cluster {\n  Mainnet = 'mainnet',\n  Devnet = 'devnet',\n  Testnet = 'testnet',\n  Localnet = 'localnet',\n}\n\nconst clusterURLMapping = {\n  mainnet: process.env.VUE_APP_MAINNET_URL || 'https://ssc-dao.genesysgo.net/',\n  devnet: process.env.VUE_APP_DEVNET_URL || 'https://api.devnet.solana.com',\n  testnet: process.env.VUE_APP_TESTNET_URL || 'https://api.testnet.solana.com',\n  localnet: process.env.VUE_APP_LOCALNET_URL || 'http://localhost:8899',\n};\n\nconst cluster = ref<Cluster>(DEFAULTS.CLUSTER as any);\n\nexport default function useCluster() {\n  const getClusterURL = (): string => clusterURLMapping[cluster.value];\n\n  const getConnection = (committment?: Commitment): Connection =>\n    new Connection(getClusterURL(), committment ?? 'processed');\n\n  const setCluster = (newCluster: Cluster) => {\n    cluster.value = newCluster;\n    // capping at 20 chars due to security (not to expose the token)\n    console.log(\n      `Cluster updated,  now ${newCluster} (${getClusterURL().substr(0, 20)})`\n    );\n  };\n\n  return {\n    cluster: readonly(cluster),\n    getClusterURL,\n    getConnection,\n    setCluster,\n  };\n}\n"],"sourceRoot":""}]}
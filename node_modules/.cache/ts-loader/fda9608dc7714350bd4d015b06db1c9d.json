{"remainingRequest":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js!/home/gynchiii/gem-farm/app/gem-farm/node_modules/ts-loader/index.js??ref--14-2!/home/gynchiii/gem-farm/app/gem-farm/src/common/gem-farm/index.ts","dependencies":[{"path":"/home/gynchiii/gem-farm/app/gem-farm/src/common/gem-farm/index.ts","mtime":1643839215713},{"path":"/home/gynchiii/gem-farm/app/gem-farm/babel.config.js","mtime":1643839215713},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/cache-loader/dist/cjs.js","mtime":1643597848373},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js","mtime":1643597848340},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/ts-loader/index.js","mtime":1643597859789}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2d5bmNoaWlpL2dlbS1mYXJtL2FwcC9nZW0tZmFybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2d5bmNoaWlpL2dlbS1mYXJtL2FwcC9nZW0tZmFybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvZ3luY2hpaWkvZ2VtLWZhcm0vYXBwL2dlbS1mYXJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvZ3luY2hpaWkvZ2VtLWZhcm0vYXBwL2dlbS1mYXJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvZ3luY2hpaWkvZ2VtLWZhcm0vYXBwL2dlbS1mYXJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvZ3luY2hpaWkvZ2VtLWZhcm0vYXBwL2dlbS1mYXJtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9neW5jaGlpaS9nZW0tZmFybS9hcHAvZ2VtLWZhcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBLZXlwYWlyIH0gZnJvbSAnQHNvbGFuYS93ZWIzLmpzJzsKaW1wb3J0IHsgQk4gfSBmcm9tICdAcHJvamVjdC1zZXJ1bS9hbmNob3InOwppbXBvcnQgeyBERUZBVUxUUyB9IGZyb20gJ0AvZ2xvYmFscyc7CmltcG9ydCB7IGNyZWF0ZUZha2VXYWxsZXQgfSBmcm9tICdAL2NvbW1vbi9nZW0tYmFuayc7CmltcG9ydCB7IEdlbUZhcm1DbGllbnQgfSBmcm9tICdAZ2Vtd29ya3MvZ2VtLWZhcm0tdHMnOwppbXBvcnQgeyBwcm9ncmFtcyB9IGZyb20gJ0BtZXRhcGxleC9qcyc7CmV4cG9ydCBmdW5jdGlvbiBpbml0R2VtRmFybShfeCwgX3gyKSB7CiAgcmV0dXJuIF9pbml0R2VtRmFybS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfaW5pdEdlbUZhcm0oKSB7CiAgX2luaXRHZW1GYXJtID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoY29ubiwgd2FsbGV0KSB7CiAgICB2YXIgd2FsbGV0VG9Vc2UsIGZhcm1JZGwsIGJhbmtJZGw7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgd2FsbGV0VG9Vc2UgPSB3YWxsZXQgIT09IG51bGwgJiYgd2FsbGV0ICE9PSB2b2lkIDAgPyB3YWxsZXQgOiBjcmVhdGVGYWtlV2FsbGV0KCk7CiAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgnZ2VtX2Zhcm0uanNvbicpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc2VudC5qc29uKCk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBmYXJtSWRsID0gX2NvbnRleHQxOC5zZW50OwogICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2dlbV9iYW5rLmpzb24nKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDEwOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zZW50Lmpzb24oKTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBiYW5rSWRsID0gX2NvbnRleHQxOC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIsIG5ldyBHZW1GYXJtKGNvbm4sIHdhbGxldFRvVXNlLCBmYXJtSWRsLCBiYW5rSWRsKSk7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxOCk7CiAgfSkpOwogIHJldHVybiBfaW5pdEdlbUZhcm0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IHZhciBHZW1GYXJtID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfR2VtRmFybUNsaWVudCkgewogIF9pbmhlcml0cyhHZW1GYXJtLCBfR2VtRmFybUNsaWVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoR2VtRmFybSk7CgogIGZ1bmN0aW9uIEdlbUZhcm0oY29ubiwgd2FsbGV0LCBmYXJtSWRsLCBiYW5rSWRsKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2VtRmFybSk7CgogICAgdmFyIGZhcm1Qcm9nSWQgPSBERUZBVUxUUy5HRU1fRkFSTV9QUk9HX0lEOwogICAgdmFyIGJhbmtQcm9nSWQgPSBERUZBVUxUUy5HRU1fQkFOS19QUk9HX0lEOwogICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbm4sIHdhbGxldCwgZmFybUlkbCwgZmFybVByb2dJZCwgYmFua0lkbCwgYmFua1Byb2dJZCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoR2VtRmFybSwgW3sKICAgIGtleTogImluaXRGYXJtV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW5pdEZhcm1XYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmV3YXJkQU1pbnQsIHJld2FyZEFUeXBlLCByZXdhcmRCTWludCwgcmV3YXJkQlR5cGUsIGZhcm1Db25maWcpIHsKICAgICAgICB2YXIgZmFybSwgYmFuaywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZhcm0gPSBLZXlwYWlyLmdlbmVyYXRlKCk7CiAgICAgICAgICAgICAgICBiYW5rID0gS2V5cGFpci5nZW5lcmF0ZSgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0RmFybShmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgYmFuaywgcmV3YXJkQU1pbnQsIHJld2FyZEFUeXBlLCByZXdhcmRCTWludCwgcmV3YXJkQlR5cGUsIGZhcm1Db25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25ldyBmYXJtIHN0YXJ0ZWQhJywgZmFybS5wdWJsaWNLZXkudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYmFuayBpczonLCBiYW5rLnB1YmxpY0tleS50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBmYXJtOiBmYXJtLAogICAgICAgICAgICAgICAgICBiYW5rOiBiYW5rCiAgICAgICAgICAgICAgICB9LCByZXN1bHQpKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluaXRGYXJtV2FsbGV0KF94MywgX3g0LCBfeDUsIF94NiwgX3g3KSB7CiAgICAgICAgcmV0dXJuIF9pbml0RmFybVdhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaW5pdEZhcm1XYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVGYXJtV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXBkYXRlRmFybVdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZmFybSwgbmV3Q29uZmlnLCBuZXdNYW5hZ2VyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlRmFybShmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIG5ld0NvbmZpZywgbmV3TWFuYWdlcik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZWQgdGhlIGZhcm0nKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVGYXJtV2FsbGV0KF94OCwgX3g5LCBfeDEwKSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVGYXJtV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGRhdGVGYXJtV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiYXV0aG9yaXplRnVuZGVyV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYXV0aG9yaXplRnVuZGVyV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhmYXJtLCBmdW5kZXIpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRob3JpemVGdW5kZXIoZmFybSwgdGhpcy53YWxsZXQucHVibGljS2V5LCBmdW5kZXIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhdXRob3JpemVkIGZ1bmRlcicsIGZ1bmRlci50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhdXRob3JpemVGdW5kZXJXYWxsZXQoX3gxMSwgX3gxMikgewogICAgICAgIHJldHVybiBfYXV0aG9yaXplRnVuZGVyV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhdXRob3JpemVGdW5kZXJXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkZWF1dGhvcml6ZUZ1bmRlcldhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlYXV0aG9yaXplRnVuZGVyV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChmYXJtLCBmdW5kZXIpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWF1dGhvcml6ZUZ1bmRlcihmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIGZ1bmRlcik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RFYXV0aG9yaXplZCBmdW5kZXInLCBmdW5kZXIudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZGVhdXRob3JpemVGdW5kZXJXYWxsZXQoX3gxMywgX3gxNCkgewogICAgICAgIHJldHVybiBfZGVhdXRob3JpemVGdW5kZXJXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlYXV0aG9yaXplRnVuZGVyV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZnVuZFZhcmlhYmxlUmV3YXJkV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZnVuZFZhcmlhYmxlUmV3YXJkV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShmYXJtLCByZXdhcmRNaW50LCBhbW91bnQsIGR1cmF0aW9uKSB7CiAgICAgICAgdmFyIHJld2FyZFNvdXJjZSwgY29uZmlnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRBVEEocmV3YXJkTWludCwgdGhpcy53YWxsZXQucHVibGljS2V5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmV3YXJkU291cmNlID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJOKGFtb3VudCksCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uU2VjOiBuZXcgQk4oZHVyYXRpb24pCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5mdW5kUmV3YXJkKGZhcm0sIHJld2FyZE1pbnQsIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgcmV3YXJkU291cmNlLCBjb25maWcpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Z1bmRlZCB2YXJpYWJsZSByZXdhcmQgd2l0aCBtaW50OicsIHJld2FyZE1pbnQudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZnVuZFZhcmlhYmxlUmV3YXJkV2FsbGV0KF94MTUsIF94MTYsIF94MTcsIF94MTgpIHsKICAgICAgICByZXR1cm4gX2Z1bmRWYXJpYWJsZVJld2FyZFdhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZnVuZFZhcmlhYmxlUmV3YXJkV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZnVuZEZpeGVkUmV3YXJkV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZnVuZEZpeGVkUmV3YXJkV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihmYXJtLCByZXdhcmRNaW50LCBhbW91bnQsIGR1cmF0aW9uLCBiYXNlUmF0ZSwgZGVub21pbmF0b3IsIHQxUmV3YXJkUmF0ZSwgdDFSZXF1aXJlZFRlbnVyZSwgdDJSZXdhcmRSYXRlLCB0MlJlcXVpcmVkVGVudXJlLCB0M1Jld2FyZFJhdGUsIHQzUmVxdWlyZWRUZW51cmUpIHsKICAgICAgICB2YXIgcmV3YXJkU291cmNlLCBjb25maWcsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZEFUQShyZXdhcmRNaW50LCB0aGlzLndhbGxldC5wdWJsaWNLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXdhcmRTb3VyY2UgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgICAgc2NoZWR1bGU6IHsKICAgICAgICAgICAgICAgICAgICBiYXNlUmF0ZTogbmV3IEJOKGJhc2VSYXRlKSwKICAgICAgICAgICAgICAgICAgICB0aWVyMTogdDFSZXdhcmRSYXRlID8gewogICAgICAgICAgICAgICAgICAgICAgcmV3YXJkUmF0ZTogbmV3IEJOKHQxUmV3YXJkUmF0ZSksCiAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFRlbnVyZTogbmV3IEJOKHQxUmVxdWlyZWRUZW51cmUpCiAgICAgICAgICAgICAgICAgICAgfSA6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgdGllcjI6IHQyUmV3YXJkUmF0ZSA/IHsKICAgICAgICAgICAgICAgICAgICAgIHJld2FyZFJhdGU6IG5ldyBCTih0MlJld2FyZFJhdGUpLAogICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRUZW51cmU6IG5ldyBCTih0MlJlcXVpcmVkVGVudXJlKQogICAgICAgICAgICAgICAgICAgIH0gOiBudWxsLAogICAgICAgICAgICAgICAgICAgIHRpZXIzOiB0M1Jld2FyZFJhdGUgPyB7CiAgICAgICAgICAgICAgICAgICAgICByZXdhcmRSYXRlOiBuZXcgQk4odDNSZXdhcmRSYXRlKSwKICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkVGVudXJlOiBuZXcgQk4odDNSZXF1aXJlZFRlbnVyZSkKICAgICAgICAgICAgICAgICAgICB9IDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvcjogbmV3IEJOKGRlbm9taW5hdG9yKQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBhbW91bnQ6IG5ldyBCTihhbW91bnQpLAogICAgICAgICAgICAgICAgICBkdXJhdGlvblNlYzogbmV3IEJOKGR1cmF0aW9uKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZ1bmRSZXdhcmQoZmFybSwgcmV3YXJkTWludCwgdGhpcy53YWxsZXQucHVibGljS2V5LCByZXdhcmRTb3VyY2UsIHVuZGVmaW5lZCwgY29uZmlnKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZnVuZGVkIGZpeGVkIHJld2FyZCB3aXRoIG1pbnQ6JywgcmV3YXJkTWludC50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmdW5kRml4ZWRSZXdhcmRXYWxsZXQoX3gxOSwgX3gyMCwgX3gyMSwgX3gyMiwgX3gyMywgX3gyNCwgX3gyNSwgX3gyNiwgX3gyNywgX3gyOCwgX3gyOSwgX3gzMCkgewogICAgICAgIHJldHVybiBfZnVuZEZpeGVkUmV3YXJkV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmdW5kRml4ZWRSZXdhcmRXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjYW5jZWxSZXdhcmRXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jYW5jZWxSZXdhcmRXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KGZhcm0sIHJld2FyZE1pbnQpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5jZWxSZXdhcmQoZmFybSwgdGhpcy53YWxsZXQucHVibGljS2V5LCByZXdhcmRNaW50LCB0aGlzLndhbGxldC5wdWJsaWNLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYW5jZWxsZWQgcmV3YXJkJywgcmV3YXJkTWludC50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjYW5jZWxSZXdhcmRXYWxsZXQoX3gzMSwgX3gzMikgewogICAgICAgIHJldHVybiBfY2FuY2VsUmV3YXJkV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjYW5jZWxSZXdhcmRXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJsb2NrUmV3YXJkV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9ja1Jld2FyZFdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoZmFybSwgcmV3YXJkTWludCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2tSZXdhcmQoZmFybSwgdGhpcy53YWxsZXQucHVibGljS2V5LCByZXdhcmRNaW50KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbG9ja2VkIHJld2FyZCcsIHJld2FyZE1pbnQudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9ja1Jld2FyZFdhbGxldChfeDMzLCBfeDM0KSB7CiAgICAgICAgcmV0dXJuIF9sb2NrUmV3YXJkV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2NrUmV3YXJkV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVmcmVzaEZhcm1lcldhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZnJlc2hGYXJtZXJXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KGZhcm0sIGZhcm1lcklkZW50aXR5KSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaEZhcm1lcihmYXJtLCBmYXJtZXJJZGVudGl0eSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlZnJlc2hlZCBmYXJtZXInLCBmYXJtZXJJZGVudGl0eS50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZWZyZXNoRmFybWVyV2FsbGV0KF94MzUsIF94MzYpIHsKICAgICAgICByZXR1cm4gX3JlZnJlc2hGYXJtZXJXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlZnJlc2hGYXJtZXJXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ0cmVhc3VyeVBheW91dFdhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RyZWFzdXJ5UGF5b3V0V2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoZmFybSwgZGVzdGluYXRpb24sIGxhbXBvcnRzKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXlvdXRGcm9tVHJlYXN1cnkoZmFybSwgdGhpcy53YWxsZXQucHVibGljS2V5LCBkZXN0aW5hdGlvbiwgbmV3IEJOKGxhbXBvcnRzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYWlkIG91dCBmcm9tIHRyZWFzdXJ5JywgbGFtcG9ydHMpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHRyZWFzdXJ5UGF5b3V0V2FsbGV0KF94MzcsIF94MzgsIF94MzkpIHsKICAgICAgICByZXR1cm4gX3RyZWFzdXJ5UGF5b3V0V2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cmVhc3VyeVBheW91dFdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImluaXRGYXJtZXJXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbml0RmFybWVyV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoZmFybSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdEZhcm1lcihmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIHRoaXMud2FsbGV0LnB1YmxpY0tleSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbml0aWFsaXplZCBuZXcgZmFybWVyJywgdGhpcy53YWxsZXQucHVibGljS2V5LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluaXRGYXJtZXJXYWxsZXQoX3g0MCkgewogICAgICAgIHJldHVybiBfaW5pdEZhcm1lcldhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaW5pdEZhcm1lcldhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInN0YWtlV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc3Rha2VXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMihmYXJtKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFrZShmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYmVndW4gc3Rha2luZyBmb3IgZmFybWVyJywgdGhpcy53YWxsZXQucHVibGljS2V5LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHN0YWtlV2FsbGV0KF94NDEpIHsKICAgICAgICByZXR1cm4gX3N0YWtlV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdGFrZVdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVuc3Rha2VXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91bnN0YWtlV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoZmFybSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5zdGFrZShmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZW5kZWQgc3Rha2luZyBmb3IgZmFybWVyJywgdGhpcy53YWxsZXQucHVibGljS2V5LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVuc3Rha2VXYWxsZXQoX3g0MikgewogICAgICAgIHJldHVybiBfdW5zdGFrZVdhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdW5zdGFrZVdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNsYWltV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY2xhaW1XYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNChmYXJtLCByZXdhcmRBTWludCwgcmV3YXJkQk1pbnQpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsYWltKGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgcmV3YXJkQU1pbnQsIHJld2FyZEJNaW50KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxNC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsYWltZWQgcmV3YXJkcyBmb3IgZmFybWVyJywgdGhpcy53YWxsZXQucHVibGljS2V5LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNsYWltV2FsbGV0KF94NDMsIF94NDQsIF94NDUpIHsKICAgICAgICByZXR1cm4gX2NsYWltV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjbGFpbVdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImZsYXNoRGVwb3NpdFdhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZsYXNoRGVwb3NpdFdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KGZhcm0sIGdlbUFtb3VudCwgZ2VtTWludCwgZ2VtU291cmNlLCBjcmVhdG9yKSB7CiAgICAgICAgdmFyIGZhcm1BY2MsIGJhbmssIF95aWVsZCR0aGlzJGZpbmRXaGl0ZSwgX3lpZWxkJHRoaXMkZmluZFdoaXRlMiwgbWludFByb29mLCBidW1wLCBfeWllbGQkdGhpcyRmaW5kV2hpdGUzLCBfeWllbGQkdGhpcyRmaW5kV2hpdGU0LCBjcmVhdG9yUHJvb2YsIGJ1bXAyLCBtZXRhZGF0YSwgcmVzdWx0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEZhcm1BY2MoZmFybSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGZhcm1BY2MgPSBfY29udGV4dDE1LnNlbnQ7CiAgICAgICAgICAgICAgICBiYW5rID0gZmFybUFjYy5iYW5rOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRXaGl0ZWxpc3RQcm9vZlBEQShiYW5rLCBnZW1NaW50KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZmluZFdoaXRlID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZmluZFdoaXRlMiA9IF9zbGljZWRUb0FycmF5KF95aWVsZCR0aGlzJGZpbmRXaGl0ZSwgMik7CiAgICAgICAgICAgICAgICBtaW50UHJvb2YgPSBfeWllbGQkdGhpcyRmaW5kV2hpdGUyWzBdOwogICAgICAgICAgICAgICAgYnVtcCA9IF95aWVsZCR0aGlzJGZpbmRXaGl0ZTJbMV07CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRXaGl0ZWxpc3RQcm9vZlBEQShiYW5rLCBjcmVhdG9yKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF95aWVsZCR0aGlzJGZpbmRXaGl0ZTMgPSBfY29udGV4dDE1LnNlbnQ7CiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRmaW5kV2hpdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3lpZWxkJHRoaXMkZmluZFdoaXRlMywgMik7CiAgICAgICAgICAgICAgICBjcmVhdG9yUHJvb2YgPSBfeWllbGQkdGhpcyRmaW5kV2hpdGU0WzBdOwogICAgICAgICAgICAgICAgYnVtcDIgPSBfeWllbGQkdGhpcyRmaW5kV2hpdGU0WzFdOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvZ3JhbXMubWV0YWRhdGEuTWV0YWRhdGEuZ2V0UERBKGdlbU1pbnQpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBfY29udGV4dDE1LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZsYXNoRGVwb3NpdChmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIG5ldyBCTihnZW1BbW91bnQpLCBnZW1NaW50LCBnZW1Tb3VyY2UsIG1pbnRQcm9vZiwgbWV0YWRhdGEsIGNyZWF0b3JQcm9vZik7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDE1LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkZWQgZXh0cmEgZ2VtIGZvciBmYXJtZXInLCB0aGlzLndhbGxldC5wdWJsaWNLZXkudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZsYXNoRGVwb3NpdFdhbGxldChfeDQ2LCBfeDQ3LCBfeDQ4LCBfeDQ5LCBfeDUwKSB7CiAgICAgICAgcmV0dXJuIF9mbGFzaERlcG9zaXRXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZsYXNoRGVwb3NpdFdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImFkZFRvQmFua1doaXRlbGlzdFdhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FkZFRvQmFua1doaXRlbGlzdFdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KGZhcm0sIGFkZHJlc3NUb1doaXRlbGlzdCwgd2hpdGVsaXN0VHlwZSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkVG9CYW5rV2hpdGVsaXN0KGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgYWRkcmVzc1RvV2hpdGVsaXN0LCB3aGl0ZWxpc3RUeXBlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIiIuY29uY2F0KGFkZHJlc3NUb1doaXRlbGlzdC50b0Jhc2U1OCgpLCAiIGFkZGVkIHRvIHdoaXRlbGlzdCIpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTYsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhZGRUb0JhbmtXaGl0ZWxpc3RXYWxsZXQoX3g1MSwgX3g1MiwgX3g1MykgewogICAgICAgIHJldHVybiBfYWRkVG9CYW5rV2hpdGVsaXN0V2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhZGRUb0JhbmtXaGl0ZWxpc3RXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJyZW1vdmVGcm9tQmFua1doaXRlbGlzdFdhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlbW92ZUZyb21CYW5rV2hpdGVsaXN0V2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoZmFybSwgYWRkcmVzc1RvUmVtb3ZlKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGcm9tQmFua1doaXRlbGlzdChmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIGFkZHJlc3NUb1JlbW92ZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTcuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIiLmNvbmNhdChhZGRyZXNzVG9SZW1vdmUudG9CYXNlNTgoKSwgIiByZW1vdmVkIGZyb20gd2hpdGVsaXN0IikpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlbW92ZUZyb21CYW5rV2hpdGVsaXN0V2FsbGV0KF94NTQsIF94NTUpIHsKICAgICAgICByZXR1cm4gX3JlbW92ZUZyb21CYW5rV2hpdGVsaXN0V2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZW1vdmVGcm9tQmFua1doaXRlbGlzdFdhbGxldDsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIEdlbUZhcm07Cn0oR2VtRmFybUNsaWVudCk7"},{"version":3,"sources":["/home/gynchiii/gem-farm/app/gem-farm/src/common/gem-farm/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { Connection, Keypair, PublicKey } from '@solana/web3.js';\nimport { SignerWalletAdapter } from '@solana/wallet-adapter-base';\nimport * as anchor from '@project-serum/anchor';\nimport { BN, Idl } from '@project-serum/anchor';\nimport { DEFAULTS } from '@/globals';\nimport { createFakeWallet } from '@/common/gem-bank';\nimport {\n  GemFarmClient,\n  FarmConfig,\n  VariableRateConfig,\n  FixedRateConfig,\n  WhitelistType,\n} from '@gemworks/gem-farm-ts';\nimport { programs } from '@metaplex/js';\n\nexport async function initGemFarm(\n  conn: Connection,\n  wallet?: SignerWalletAdapter\n) {\n  const walletToUse = wallet ?? createFakeWallet();\n  const farmIdl = await (await fetch('gem_farm.json')).json();\n  const bankIdl = await (await fetch('gem_bank.json')).json();\n  return new GemFarm(conn, walletToUse as anchor.Wallet, farmIdl, bankIdl);\n}\n\nexport class GemFarm extends GemFarmClient {\n  constructor(\n    conn: Connection,\n    wallet: anchor.Wallet,\n    farmIdl: Idl,\n    bankIdl: Idl\n  ) {\n    const farmProgId = DEFAULTS.GEM_FARM_PROG_ID;\n    const bankProgId = DEFAULTS.GEM_BANK_PROG_ID;\n    super(conn, wallet, farmIdl, farmProgId, bankIdl, bankProgId);\n  }\n\n  async initFarmWallet(\n    rewardAMint: PublicKey,\n    rewardAType: any,\n    rewardBMint: PublicKey,\n    rewardBType: any,\n    farmConfig: FarmConfig\n  ) {\n    const farm = Keypair.generate();\n    const bank = Keypair.generate();\n\n    const result = await this.initFarm(\n      farm,\n      this.wallet.publicKey,\n      this.wallet.publicKey,\n      bank,\n      rewardAMint,\n      rewardAType,\n      rewardBMint,\n      rewardBType,\n      farmConfig\n    );\n\n    console.log('new farm started!', farm.publicKey.toBase58());\n    console.log('bank is:', bank.publicKey.toBase58());\n\n    return { farm, bank, ...result };\n  }\n\n  async updateFarmWallet(\n    farm: PublicKey,\n    newConfig?: FarmConfig,\n    newManager?: PublicKey\n  ) {\n    const result = await this.updateFarm(\n      farm,\n      this.wallet.publicKey,\n      newConfig,\n      newManager\n    );\n\n    console.log('updated the farm');\n\n    return result;\n  }\n\n  async authorizeFunderWallet(farm: PublicKey, funder: PublicKey) {\n    const result = await this.authorizeFunder(\n      farm,\n      this.wallet.publicKey,\n      funder\n    );\n\n    console.log('authorized funder', funder.toBase58());\n\n    return result;\n  }\n\n  async deauthorizeFunderWallet(farm: PublicKey, funder: PublicKey) {\n    const result = await this.deauthorizeFunder(\n      farm,\n      this.wallet.publicKey,\n      funder\n    );\n\n    console.log('DEauthorized funder', funder.toBase58());\n\n    return result;\n  }\n\n  async fundVariableRewardWallet(\n    farm: PublicKey,\n    rewardMint: PublicKey,\n    amount: string,\n    duration: string\n  ) {\n    const rewardSource = await this.findATA(rewardMint, this.wallet.publicKey);\n\n    const config: VariableRateConfig = {\n      amount: new BN(amount),\n      durationSec: new BN(duration),\n    };\n\n    const result = this.fundReward(\n      farm,\n      rewardMint,\n      this.wallet.publicKey,\n      rewardSource,\n      config\n    );\n\n    console.log('funded variable reward with mint:', rewardMint.toBase58());\n\n    return result;\n  }\n\n  async fundFixedRewardWallet(\n    farm: PublicKey,\n    rewardMint: PublicKey,\n    amount: string,\n    duration: string,\n    baseRate: string,\n    denominator: string,\n    t1RewardRate?: string,\n    t1RequiredTenure?: string,\n    t2RewardRate?: string,\n    t2RequiredTenure?: string,\n    t3RewardRate?: string,\n    t3RequiredTenure?: string\n  ) {\n    const rewardSource = await this.findATA(rewardMint, this.wallet.publicKey);\n\n    const config: FixedRateConfig = {\n      schedule: {\n        baseRate: new BN(baseRate),\n        tier1: t1RewardRate\n          ? {\n              rewardRate: new BN(t1RewardRate),\n              requiredTenure: new BN(t1RequiredTenure!),\n            }\n          : null,\n        tier2: t2RewardRate\n          ? {\n              rewardRate: new BN(t2RewardRate),\n              requiredTenure: new BN(t2RequiredTenure!),\n            }\n          : null,\n        tier3: t3RewardRate\n          ? {\n              rewardRate: new BN(t3RewardRate),\n              requiredTenure: new BN(t3RequiredTenure!),\n            }\n          : null,\n        denominator: new BN(denominator),\n      },\n      amount: new BN(amount),\n      durationSec: new BN(duration),\n    };\n\n    const result = await this.fundReward(\n      farm,\n      rewardMint,\n      this.wallet.publicKey,\n      rewardSource,\n      undefined,\n      config\n    );\n\n    console.log('funded fixed reward with mint:', rewardMint.toBase58());\n\n    return result;\n  }\n\n  async cancelRewardWallet(farm: PublicKey, rewardMint: PublicKey) {\n    const result = await this.cancelReward(\n      farm,\n      this.wallet.publicKey,\n      rewardMint,\n      this.wallet.publicKey\n    );\n\n    console.log('cancelled reward', rewardMint.toBase58());\n\n    return result;\n  }\n\n  async lockRewardWallet(farm: PublicKey, rewardMint: PublicKey) {\n    const result = await this.lockReward(\n      farm,\n      this.wallet.publicKey,\n      rewardMint\n    );\n\n    console.log('locked reward', rewardMint.toBase58());\n\n    return result;\n  }\n\n  async refreshFarmerWallet(farm: PublicKey, farmerIdentity: PublicKey) {\n    const result = await this.refreshFarmer(farm, farmerIdentity);\n\n    console.log('refreshed farmer', farmerIdentity.toBase58());\n\n    return result;\n  }\n\n  async treasuryPayoutWallet(\n    farm: PublicKey,\n    destination: PublicKey,\n    lamports: string\n  ) {\n    const result = await this.payoutFromTreasury(\n      farm,\n      this.wallet.publicKey,\n      destination,\n      new BN(lamports)\n    );\n\n    console.log('paid out from treasury', lamports);\n\n    return result;\n  }\n\n  async initFarmerWallet(farm: PublicKey) {\n    const result = await this.initFarmer(\n      farm,\n      this.wallet.publicKey,\n      this.wallet.publicKey\n    );\n\n    console.log('initialized new farmer', this.wallet.publicKey.toBase58());\n\n    return result;\n  }\n\n  async stakeWallet(farm: PublicKey) {\n    const result = await this.stake(farm, this.wallet.publicKey);\n\n    console.log('begun staking for farmer', this.wallet.publicKey.toBase58());\n\n    return result;\n  }\n\n  async unstakeWallet(farm: PublicKey) {\n    const result = await this.unstake(farm, this.wallet.publicKey);\n\n    console.log('ended staking for farmer', this.wallet.publicKey.toBase58());\n\n    return result;\n  }\n\n  async claimWallet(\n    farm: PublicKey,\n    rewardAMint: PublicKey,\n    rewardBMint: PublicKey\n  ) {\n    const result = await this.claim(\n      farm,\n      this.wallet.publicKey,\n      rewardAMint,\n      rewardBMint\n    );\n\n    console.log('claimed rewards for farmer', this.wallet.publicKey.toBase58());\n\n    return result;\n  }\n\n  async flashDepositWallet(\n    farm: PublicKey,\n    gemAmount: string,\n    gemMint: PublicKey,\n    gemSource: PublicKey,\n    creator: PublicKey\n  ) {\n    const farmAcc = await this.fetchFarmAcc(farm);\n    const bank = farmAcc.bank;\n\n    const [mintProof, bump] = await this.findWhitelistProofPDA(bank, gemMint);\n    const [creatorProof, bump2] = await this.findWhitelistProofPDA(\n      bank,\n      creator\n    );\n    const metadata = await programs.metadata.Metadata.getPDA(gemMint);\n\n    const result = await this.flashDeposit(\n      farm,\n      this.wallet.publicKey,\n      new BN(gemAmount),\n      gemMint,\n      gemSource,\n      mintProof,\n      metadata,\n      creatorProof\n    );\n\n    console.log('added extra gem for farmer', this.wallet.publicKey.toBase58());\n\n    return result;\n  }\n\n  async addToBankWhitelistWallet(\n    farm: PublicKey,\n    addressToWhitelist: PublicKey,\n    whitelistType: WhitelistType\n  ) {\n    const result = await this.addToBankWhitelist(\n      farm,\n      this.wallet.publicKey,\n      addressToWhitelist,\n      whitelistType\n    );\n\n    console.log(`${addressToWhitelist.toBase58()} added to whitelist`);\n\n    return result;\n  }\n\n  async removeFromBankWhitelistWallet(\n    farm: PublicKey,\n    addressToRemove: PublicKey\n  ) {\n    const result = await this.removeFromBankWhitelist(\n      farm,\n      this.wallet.publicKey,\n      addressToRemove\n    );\n\n    console.log(`${addressToRemove.toBase58()} removed from whitelist`);\n\n    return result;\n  }\n}\n"],"sourceRoot":""}]}
{"remainingRequest":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/gynchiii/gem-farm/app/gem-farm/src/components/gem-farm/AuthorizeFunder.vue?vue&type=template&id=05c21f50&ts=true","dependencies":[{"path":"/home/gynchiii/gem-farm/app/gem-farm/src/components/gem-farm/AuthorizeFunder.vue","mtime":1643839215713},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/cache-loader/dist/cjs.js","mtime":1643597848373},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js","mtime":1643597848340},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/ts-loader/index.js","mtime":1643597859789},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1643597863917},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/cache-loader/dist/cjs.js","mtime":1643597848373},{"path":"/home/gynchiii/gem-farm/app/gem-farm/node_modules/vue-loader-v16/dist/index.js","mtime":1643597863917}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0ibmVzLWNvbnRhaW5lciB3aXRoLXRpdGxlIj4KICAgIDxwIGNsYXNzPSJ0aXRsZSI+QXV0aG9yaXplIC8gRGVhdXRob3JpemUgRnVuZGVyczwvcD4KICAgIDxkaXYgY2xhc3M9ImZsZXgiPgogICAgICA8IS0tYXV0aG9yaXplLS0+CiAgICAgIDxmb3JtIGNsYXNzPSJtci01IGZsZXgtMSIgQHN1Ym1pdC5wcmV2ZW50PSJhdXRob3JpemVGdW5kZXIiPgogICAgICAgIDxkaXYgY2xhc3M9Im5lcy1maWVsZCBtYi01Ij4KICAgICAgICAgIDxsYWJlbCBmb3I9ImF1dGhvcml6ZUZ1bmRlciI+PC9sYWJlbD4KICAgICAgICAgIDxpbnB1dCBpZD0iYXV0aG9yaXplRnVuZGVyIiBjbGFzcz0ibmVzLWlucHV0IiB2LW1vZGVsPSJ0b0F1dGhvcml6ZSIgLz4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJuZXMtYnRuIGlzLXByaW1hcnkgbWItNSI+QXV0aG9yaXplPC9idXR0b24+CiAgICAgIDwvZm9ybT4KICAgICAgPCEtLURFYXV0aG9yaXplLS0+CiAgICAgIDxmb3JtIGNsYXNzPSJmbGV4LTEiIEBzdWJtaXQucHJldmVudD0iZGVhdXRob3JpemVGdW5kZXIiPgogICAgICAgIDxkaXYgY2xhc3M9Im5lcy1maWVsZCBtYi01Ij4KICAgICAgICAgIDxsYWJlbCBmb3I9ImRlYXV0aG9yaXplRnVuZGVyIj48L2xhYmVsPgogICAgICAgICAgPGlucHV0CiAgICAgICAgICAgIGlkPSJkZWF1dGhvcml6ZUZ1bmRlciIKICAgICAgICAgICAgY2xhc3M9Im5lcy1pbnB1dCIKICAgICAgICAgICAgdi1tb2RlbD0idG9EZWF1dGhvcml6ZSIKICAgICAgICAgIC8+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmVzLWJ0biBpcy1wcmltYXJ5IG1iLTUiPkRlYXV0aG9yaXplPC9idXR0b24+CiAgICAgIDwvZm9ybT4KICAgIDwvZGl2PgogICAgPCEtLWxpc3Qgb2YgY3VycmVudCBmdW5kZXJzLS0+CiAgICA8ZGl2IHYtaWY9ImZ1bmRlcnMgJiYgZnVuZGVycy5sZW5ndGgiIGNsYXNzPSJtYi01Ij4KICAgICAgPHAgY2xhc3M9Im1iLTIiPkF1dGhvcml6ZWQgZnVuZGVyczo8L3A+CiAgICAgIDxkaXYgdi1mb3I9ImYgaW4gZnVuZGVycyIgOmtleT0iZi5wdWJsaWNLZXkudG9CYXNlNTgoKSI+CiAgICAgICAge3sgZi5hY2NvdW50LmF1dGhvcml6ZWRGdW5kZXIudG9CYXNlNTgoKSB9fQogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2Pgo="},{"version":3,"sources":["/home/gynchiii/gem-farm/app/gem-farm/src/components/gem-farm/AuthorizeFunder.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACvE,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACtC,CAAC,CAAC,CAAC,CAAC,CAAC;YACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACxB,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC5C,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/gynchiii/gem-farm/app/gem-farm/src/components/gem-farm/AuthorizeFunder.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"nes-container with-title\">\n    <p class=\"title\">Authorize / Deauthorize Funders</p>\n    <div class=\"flex\">\n      <!--authorize-->\n      <form class=\"mr-5 flex-1\" @submit.prevent=\"authorizeFunder\">\n        <div class=\"nes-field mb-5\">\n          <label for=\"authorizeFunder\"></label>\n          <input id=\"authorizeFunder\" class=\"nes-input\" v-model=\"toAuthorize\" />\n        </div>\n        <button class=\"nes-btn is-primary mb-5\">Authorize</button>\n      </form>\n      <!--DEauthorize-->\n      <form class=\"flex-1\" @submit.prevent=\"deauthorizeFunder\">\n        <div class=\"nes-field mb-5\">\n          <label for=\"deauthorizeFunder\"></label>\n          <input\n            id=\"deauthorizeFunder\"\n            class=\"nes-input\"\n            v-model=\"toDeauthorize\"\n          />\n        </div>\n        <button class=\"nes-btn is-primary mb-5\">Deauthorize</button>\n      </form>\n    </div>\n    <!--list of current funders-->\n    <div v-if=\"funders && funders.length\" class=\"mb-5\">\n      <p class=\"mb-2\">Authorized funders:</p>\n      <div v-for=\"f in funders\" :key=\"f.publicKey.toBase58()\">\n        {{ f.account.authorizedFunder.toBase58() }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, ref, watch } from 'vue';\nimport useWallet from '@/composables/wallet';\nimport useCluster from '@/composables/cluster';\nimport { initGemFarm } from '@/common/gem-farm';\nimport { PublicKey } from '@solana/web3.js';\n\nexport default defineComponent({\n  props: {\n    farm: String,\n  },\n  setup(props, ctx) {\n    const { wallet, getWallet } = useWallet();\n    const { cluster, getConnection } = useCluster();\n\n    let gf: any;\n    watch([wallet, cluster], async () => {\n      gf = await initGemFarm(getConnection(), getWallet()!);\n    });\n\n    //need an onmounted hook because this component isn't yet mounted when wallet/cluster are set\n    onMounted(async () => {\n      if (getWallet() && getConnection()) {\n        gf = await initGemFarm(getConnection(), getWallet()!);\n      }\n      await getCurrentFunders(props.farm!);\n    });\n\n    // --------------------------------------- funders\n    const toAuthorize = ref<string>();\n    const toDeauthorize = ref<string>();\n    const funders = ref<any[]>();\n\n    const getCurrentFunders = async (farm: string) => {\n      funders.value = await gf!.fetchAllAuthProofPDAs(new PublicKey(farm));\n    };\n\n    const authorizeFunder = async () => {\n      await gf!.authorizeFunderWallet(\n        new PublicKey(props.farm!),\n        new PublicKey(toAuthorize.value!)\n      );\n      await getCurrentFunders(props.farm!);\n    };\n\n    const deauthorizeFunder = async () => {\n      await gf!.deauthorizeFunderWallet(\n        new PublicKey(props.farm!),\n        new PublicKey(toDeauthorize.value!)\n      );\n      await getCurrentFunders(props.farm!);\n    };\n\n    return {\n      funders,\n      toAuthorize,\n      toDeauthorize,\n      authorizeFunder,\n      deauthorizeFunder,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n"]}]}